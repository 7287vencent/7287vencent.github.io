(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{593:function(t,n,e){"use strict";e.r(n);var a=e(4),s=Object(a.a)({},(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h3",{attrs:{id:"题目-使用git-action-部署项目到阿里云服务器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#题目-使用git-action-部署项目到阿里云服务器"}},[t._v("#")]),t._v(" 题目 使用git-action 部署项目到阿里云服务器")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://juejin.cn/post/6910014283707318279#heading-21",target:"_blank",rel:"noopener noreferrer"}},[t._v("本文来自篇文章"),e("OutboundLink")],1)]),t._v(" "),e("h4",{attrs:{id:"环境描述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#环境描述"}},[t._v("#")]),t._v(" 环境描述")]),t._v(" "),e("p",[t._v("阿里云服务器: CentOS  8.0 64位")]),t._v(" "),e("h4",{attrs:{id:"第一步-生成一对公私密钥"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一步-生成一对公私密钥"}},[t._v("#")]),t._v(" 第一步：生成一对公私密钥")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("ssh"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("keygen "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("t rsa "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ssh"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("id_rsa"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("github "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"邮箱"')]),t._v("\n")]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1609245490017-13433"}},[t._v("success")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'ssh-keygen -t rsa -f ~/.ssh/id_rsa.github -C "邮箱"\n',"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1609245490017-13433","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"file",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])])])]),e("h4",{attrs:{id:"第二步-添加-生成的-私钥-到项目的-settings-secrets-中"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二步-添加-生成的-私钥-到项目的-settings-secrets-中"}},[t._v("#")]),t._v(" 第二步：添加 生成的 私钥 到项目的 settings > secrets 中")]),t._v(" "),e("h4",{attrs:{id:"第三步-把-公钥-上传到阿里云服务器上-并配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三步-把-公钥-上传到阿里云服务器上-并配置"}},[t._v("#")]),t._v(" 第三步：把 公钥 上传到阿里云服务器上，并配置")]),t._v(" "),e("ul",[e("li",[t._v("上传公钥")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("scp 公钥文件 root@你的ip"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1609245490018-59750"}},[t._v("success")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"scp 公钥文件 root@你的ip:.\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1609245490018-59750","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"file",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])])])]),e("ul",[e("li",[t._v("配置密钥")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("cat 公钥文件 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ssh"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("authorized_key\n")]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1609245490018-70138"}},[t._v("success")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"cat 公钥文件 >> ~/.ssh/authorized_key\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1609245490018-70138","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"file",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])])])]),e("h4",{attrs:{id:"第四步-编写-git-action配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第四步-编写-git-action配置文件"}},[t._v("#")]),t._v(" 第四步：编写 git-action配置文件")]),t._v(" "),e("p",[t._v("位置："),e("code",[t._v(".github/workflows/publish.yml")])]),t._v(" "),e("p",[e("strong",[t._v("参考配置")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 打包应用并上传阿里云\n\non"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n  push"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n    branches"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" master\n\njobs"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n  build"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n    # runs"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("on "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("指定job任务运行所需要的虚拟机环境")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("必填字段"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    runs"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("on"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ubuntu"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("latest\n    steps"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      # 获取源码\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 迁出代码\n        # 使用action库  actions"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("checkout获取源码\n        uses"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" actions"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("checkout@master\n      # 安装Node10\n      \n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 安装node"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js\n        # 使用action库  actions"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("setup"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("node安装node\n        uses"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" actions"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("setup"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("node@v1\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n          node"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("version"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("14.0")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),t._v("\n\n      # 安装依赖\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 安装依赖\n        run"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" npm install\n\n      # 打包\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 打包\n        run"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" npm run build\n\n      # 上传阿里云\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 发布到阿里云\n        uses"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" easingthemes"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("ssh"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("deploy@v2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),t._v("\n        env"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n          # 私钥\n          "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SSH_PRIVATE_KEY")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" $"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PRIVATE_KEY")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          # scp参数\n          "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ARGS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-avzr --delete"')]),t._v("\n          # 源目录\n          "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SOURCE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dist"')]),t._v("\n          # 服务器ip：换成你的服务器"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("IP")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("REMOTE_HOST")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"101.201.70.124"')]),t._v("\n          # 用户\n          "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("REMOTE_USER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"root"')]),t._v("\n          # 目标地址\n          "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TARGET")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/root/vue-in-action"')]),t._v("\n")]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1609245490018-83079"}},[t._v("success")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'name: 打包应用并上传阿里云\n\non:\n  push:\n    branches:\n      - master\n\njobs:\n  build:\n    # runs-on 指定job任务运行所需要的虚拟机环境(必填字段)\n    runs-on: ubuntu-latest\n    steps:\n      # 获取源码\n      - name: 迁出代码\n        # 使用action库  actions/checkout获取源码\n        uses: actions/checkout@master\n      # 安装Node10\n      \n      - name: 安装node.js\n        # 使用action库  actions/setup-node安装node\n        uses: actions/setup-node@v1\n        with:\n          node-version: 14.0.0\n\n      # 安装依赖\n      - name: 安装依赖\n        run: npm install\n\n      # 打包\n      - name: 打包\n        run: npm run build\n\n      # 上传阿里云\n      - name: 发布到阿里云\n        uses: easingthemes/ssh-deploy@v2.1.1\n        env:\n          # 私钥\n          SSH_PRIVATE_KEY: ${{ secrets.PRIVATE_KEY }}\n          # scp参数\n          ARGS: "-avzr --delete"\n          # 源目录\n          SOURCE: "dist"\n          # 服务器ip：换成你的服务器IP\n          REMOTE_HOST: "101.201.70.124"\n          # 用户\n          REMOTE_USER: "root"\n          # 目标地址\n          TARGET: "/root/vue-in-action"\n',"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1609245490018-83079","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"file",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])])])]),e("h4",{attrs:{id:"问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[t._v("#")]),t._v(" 问题")]),t._v(" "),e("p",[e("strong",[t._v("问题一：Nginx 出现 403 Forbidden 最终解决方法")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://blog.csdn.net/onlysunnyboy/article/details/75270533",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考办法"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("原因: 查看日志发现是权限问题,日志路径 "),e("code",[t._v("/var/log/nginx/")])]),t._v(" "),e("p",[t._v("解决: 1. 查看"),e("code",[t._v("nginx")]),t._v(" 启动者谁? 最后发现是 nginx 本身，而不是 root,所以不能访问一些文件，导致权限出问题.")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("ps aux "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" grep "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nginx: worker process"')]),t._v("\n")]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1609245490019-80188"}},[t._v("success")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'ps aux | grep "nginx: worker process"\n',"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1609245490019-80188","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"file",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])])])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("解决办法：将nginx.config的user改为和启动用户一致，即 "),e("code",[t._v("root")]),t._v("，然后就行了")])]),t._v(" "),e("p",[e("strong",[t._v("问题二：执行 nginx -s reload , nginx报错nginx: [error] open() “/run/nginx.pid” failed (2: No such file or directory)")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://blog.csdn.net/gwdgwd123/article/details/104068563",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考办法"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("解决方法：找到你的nginx.conf的文件夹目录")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("nginx "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("c etc"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("nginx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf\n")]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1609245490019-65708"}},[t._v("success")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"nginx -c etc/nginx/nginx.conf\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1609245490019-65708","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"file",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])])])]),e("p",[t._v("再执行")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("nginx "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s reload\n")]),e("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[e("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1609245490019-80124"}},[t._v("success")]),e("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"nginx -s reload\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1609245490019-80124","data-mdic-notify-delay":"1000","data-mdic-copy-fail-text":"file",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("copy")])])])])])}),[],!1,null,null,null);n.default=s.exports}}]);